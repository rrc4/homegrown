<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
        <title>Sign Up</title>

        <style>
            .background-image {
                background-image: url('http://islasfoods.com/wp-content/uploads/2018/01/fruits-vegetables-rainbow-hero-getty.jpg');
                filter: blur(7px);
                -webkit-filter: blur(7px);
                background-size: 1920px 1000px;
                display: block;
                height: 1000px;
                left: 0;
                position: fixed;
                right: 0;
                z-index: 1;
            }

            .content {
                top: 10px;
                left: 0;
                position: absolute;
                margin-left: 20px;
                margin-right: 20px;
                right: 0;
                z-index: 2;
                padding: 0 10px;
            }
        </style>
    </head>

    <body>
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} fade show" role="alert">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <div class="background-image"></div>
        <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
        <div class="content">
            <br><br>
            <div id="login-overlay" class="modal-dialog" style="overflow-y: initial !important">
                <div class="modal-content" style="overflow-y: auto">
                    <div class="modal-header" style="text-align: center">
                        <h1>Welcome to HomeGrown!</h1>
                        <h3>Fresh produce sold by backyard growers</h3>
                    </div>
                    <div class="modal-body" style="overflow-y: auto">
                        <div class="row">
                            <div class="col-xs-2"></div>
                            <div class="col-xs-8">
                                <h4 style="text-align: center">Sign Up</h4>
                                <div class="well">
                                    <form method="POST">
                                        {{ sign_up_form.csrf_token }}

                                        <p class="form-label">
                                            {{ sign_up_form.name.label }}
                                            {{ sign_up_form.name(class='form-control', placeholder='Name') }}
                                        </p>
                                        {% if sign_up_form.name.errors %}
                                            <div class="alert alert-danger">
                                                Invalid name
                                            </div>
                                        {% endif %}

                                        <p class="form-label">
                                            {{ sign_up_form.email.label }}
                                            {{ sign_up_form.email(class='form-control', placeholder='Email') }}
                                        </p>
                                        {% if sign_up_form.email.errors %}
                                            <div class="alert alert-danger">
                                                Invalid email
                                            </div>
                                        {% endif %}

                                        <p class="form-label">
                                            {{ sign_up_form.zip.label }}
                                            {{ sign_up_form.zip(class='form-control', placeholder='ZIP Code') }}
                                        </p>
                                        {% if sign_up_form.zip.errors %}
                                            <div class="alert alert-danger">
                                                ZIP code must be 5 digits
                                            </div>
                                        {% endif %}

                                        <p class="form-label">
                                            {{ sign_up_form.password.label }}
                                            {{ sign_up_form.password(class='form-control', placeholder='Password') }}
                                        </p>
                                        {% if sign_up_form.password.errors %}
                                            <div class="alert alert-danger">
                                                Invalid password
                                                <ul>
                                                    <li>Minimum 8 characters</li>
                                                    <li>Minimum 1 letter</li>
                                                    <li>Minimum 1 number</li>
                                                    <li>Minimum 1 special character (!@#$%^&*_+=)</li>
                                                </ul>
                                            </div>
                                        {% endif %}

                                        <p class="form-label">
                                            {{ sign_up_form.confirm.label }}
                                            {{ sign_up_form.confirm(class='form-control', placeholder='Confirm Password') }}
                                        </p>
                                        <br>
                                        {% if sign_up_form.confirm.errors %}
                                            <div class="alert alert-danger">
                                                Passwords do not match
                                            </div>
                                        {% endif %}
                                        <p> {{ sign_up_form.submit(class_='btn btn-primary btn-block') }} </p>
                                    </form>
                                </div>
                            </div>
                            <div class="col-xs-2"></div>
                        </div>
                        <br>
                        <div style="text-align: center">
                            <a href="{{ url_for('index') }}" class="btn btn-danger">Sign In</a>
                            <br><br>
                            <a href="{{ url_for('all_posts') }}" class="btn btn-secondary" style="font-size: 14px">Continue as Guest</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
